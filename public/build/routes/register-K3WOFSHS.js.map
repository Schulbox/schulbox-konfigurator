{
  "version": 3,
  "sources": ["../../../app/routes/register.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\register.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\register.tsx\");\n  import.meta.hot.lastModified = \"1745273377101.2861\";\n}\n// REMIX HMR END\n\nimport { json } from \"@remix-run/node\";\nimport { Form, useActionData, useNavigation } from \"@remix-run/react\";\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"~/lib/supabaseClient\";\nexport async function action({\n  request\n}) {\n  const formData = await request.formData();\n  const email = formData.get(\"email\");\n  const password = formData.get(\"password\");\n  try {\n    const {\n      data,\n      error: signUpError\n    } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        data: {\n          vorname: formData.get(\"vorname\"),\n          nachname: formData.get(\"nachname\"),\n          stra\u00DFe: formData.get(\"stra\u00DFe\"),\n          hausnummer: formData.get(\"hausnummer\"),\n          t\u00FCrnummer: formData.get(\"t\u00FCrnummer\"),\n          stiege: formData.get(\"stiege\"),\n          postleitzahl: formData.get(\"postleitzahl\"),\n          ort: formData.get(\"ort\"),\n          telefonnummer: formData.get(\"telefonnummer\"),\n          role: \"user\"\n        }\n      }\n    });\n    if (signUpError || !data.user) {\n      return json({\n        error: translateError(signUpError?.message || \"Unbekannter Fehler\")\n      });\n    }\n    return json({\n      success: true,\n      email\n    });\n  } catch {\n    return json({\n      error: \"Ein unerwarteter Fehler ist aufgetreten.\"\n    });\n  }\n}\nfunction translateError(error) {\n  if (error.includes(\"email\")) {\n    return \"Die E-Mail-Adresse konnte nicht gespeichert werden. Bitte \u00FCberpr\u00FCfe deine Eingabe.\";\n  }\n  if (error.includes(\"password\")) {\n    return \"Das Passwort ist ung\u00FCltig oder konnte nicht gespeichert werden.\";\n  }\n  return \"Es ist ein unbekannter Fehler aufgetreten.\";\n}\nexport default function Register() {\n  _s();\n  const navigation = useNavigation();\n  const actionData = useActionData();\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [countdown, setCountdown] = useState(10);\n  useEffect(() => {\n    if (actionData?.success) {\n      setShowSuccess(true);\n    }\n  }, [actionData]);\n  useEffect(() => {\n    if (showSuccess) {\n      const timer = setInterval(() => {\n        setCountdown(prev => {\n          if (prev <= 1) {\n            clearInterval(timer);\n            window.location.href = \"/\";\n          }\n          return prev - 1;\n        });\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [showSuccess]);\n  return <div className=\"flex flex-col items-center justify-start min-h-screen px-4 pt-12 text-sm max-w-4xl mx-auto\">\r\n      <h1 className=\"text-2xl font-bold mb-8 w-full\">\uD83D\uDCDD Registrieren</h1>\r\n\r\n      {showSuccess && actionData?.email && <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6 w-full\">\r\n          Die Registrierung bei Schulbox war erfolgreich, um Ihre E-Mail verifizieren zu k\u00F6nnen,\r\n          wurde soeben ein Best\u00E4tigungslink an{\" \"}\r\n          <span className=\"text-green-700 font-medium\">{actionData.email}</span> geschickt.\r\n          <p className=\"mt-2 text-sm\">\r\n            ...Weiterleitung zur Startseite in {countdown} Sekunden<br />\r\n            <a href=\"/\" className=\"text-blue-600 underline\">oder hier direkt zur Startseite</a>\r\n          </p>\r\n        </div>}\r\n\r\n      {!showSuccess && <Form method=\"post\" className=\"grid grid-cols-1 md:grid-cols-2 gap-4 w-full\">\r\n  {/* Vorname + Nachname */}\r\n  <div className=\"flex flex-col\">\r\n    <label htmlFor=\"vorname\">Vorname *</label>\r\n    <input id=\"vorname\" name=\"vorname\" required className=\"border border-gray-300 p-2 rounded w-full\" />\r\n  </div>\r\n  <div className=\"flex flex-col\">\r\n    <label htmlFor=\"nachname\">Nachname *</label>\r\n    <input id=\"nachname\" name=\"nachname\" required className=\"border border-gray-300 p-2 rounded w-full\" />\r\n  </div>\r\n\r\n  {/* Stra\u00DFe (volle Breite) */}\r\n  <div className=\"flex flex-col md:col-span-2\">\r\n    <label htmlFor=\"stra\u00DFe\">Stra\u00DFe *</label>\r\n    <input id=\"stra\u00DFe\" name=\"stra\u00DFe\" required className=\"border border-gray-300 p-2 rounded w-full\" />\r\n  </div>\r\n\r\n  {/* Hausnummer + T\u00FCrnummer + Stiege */}\r\n  <div className=\"grid grid-cols-3 gap-2 md:col-span-2\">\r\n    <div className=\"flex flex-col\">\r\n      <label htmlFor=\"hausnummer\">Nr. *</label>\r\n      <input id=\"hausnummer\" name=\"hausnummer\" required className=\"border border-gray-300 p-2 rounded w-full\" />\r\n    </div>\r\n    <div className=\"flex flex-col\">\r\n      <label htmlFor=\"t\u00FCrnummer\">T\u00FCrNr.</label>\r\n      <input id=\"t\u00FCrnummer\" name=\"t\u00FCrnummer\" className=\"border border-gray-300 p-2 rounded w-full\" />\r\n    </div>\r\n    <div className=\"flex flex-col\">\r\n      <label htmlFor=\"stiege\">Stiege</label>\r\n      <input id=\"stiege\" name=\"stiege\" className=\"border border-gray-300 p-2 rounded w-full\" />\r\n    </div>\r\n  </div>\r\n\r\n  {/* Postleitzahl + Ort + Telefonnummer */}\r\n  <div className=\"grid grid-cols-3 gap-2 md:col-span-2\">\r\n    <div className=\"flex flex-col\">\r\n      <label htmlFor=\"postleitzahl\">Postleitzahl *</label>\r\n      <input id=\"postleitzahl\" name=\"postleitzahl\" required className=\"border border-gray-300 p-2 rounded w-full\" />\r\n    </div>\r\n    <div className=\"flex flex-col\">\r\n      <label htmlFor=\"ort\">Ort *</label>\r\n      <input id=\"ort\" name=\"ort\" required className=\"border border-gray-300 p-2 rounded w-full\" />\r\n    </div>\r\n    <div className=\"flex flex-col\">\r\n      <label htmlFor=\"telefonnummer\">Telefonnummer</label>\r\n      <input id=\"telefonnummer\" name=\"telefonnummer\" className=\"border border-gray-300 p-2 rounded w-full\" />\r\n    </div>\r\n  </div>\r\n\r\n  {/* E-Mail */}\r\n  <div className=\"flex flex-col md:col-span-2\">\r\n    <label htmlFor=\"email\">E-Mail *</label>\r\n    <input id=\"email\" name=\"email\" type=\"email\" required className=\"border border-gray-300 p-2 rounded w-full\" />\r\n  </div>\r\n\r\n  {/* Passwort */}\r\n  <div className=\"flex flex-col md:col-span-2\">\r\n    <label htmlFor=\"password\">Passwort *</label>\r\n    <input id=\"password\" name=\"password\" type=\"password\" required minLength={6} className=\"border border-gray-300 p-2 rounded w-full\" />\r\n    <span className=\"text-gray-500 text-xs mt-1\">Mindestens 6 Zeichen oder Zahlen erforderlich</span>\r\n  </div>\r\n\r\n  {/* Button */}\r\n  <div className=\"md:col-span-2\">\r\n    <button type=\"submit\" disabled={navigation.state === \"submitting\"} className=\"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition\">\r\n      {navigation.state === \"submitting\" ? \"Wird gesendet...\" : \"Registrieren\"}\r\n    </button>\r\n  </div>\r\n\r\n  {/* Fehleranzeige */}\r\n  {\"error\" in (actionData ?? {}) && <p className=\"col-span-2 mt-2 text-red-600 text-sm\">{actionData?.error}</p>}\r\n    </Form>}\r\n    </div>;\n}\n_s(Register, \"qjriVPXh2XXe4okbGoSFDJObatg=\", false, function () {\n  return [useNavigation, useActionData];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react"]
}
